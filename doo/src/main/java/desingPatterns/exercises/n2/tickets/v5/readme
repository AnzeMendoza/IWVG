Menu menu = CountryFactory.instance().getMenu();
do {
	boolean cierreTicket = false;
	Ticket ticket = new Ticket();
	CountryFactory.instance().getHeader().print();
	do {
		Linea linea = menu.execute();
		if (linea != null) {
			ticket.add(linea);
			linea.imprimir();
		}
	} while(cierreTicket);
	CountryFactory.instance().getTicketVisitor().visit(ticket);
	CountryFactory.instance().getFooter().print();
	cierreTienda = System.time()<8:00;
} while (cierreTienda);

switch (pais) {
	case España:
		SpainOperationBuilder.build().execute();
	case Francia:
		FranchOperationBuilder.build()
	case Vietnam:
		SpainOperationBuilder.build()
	}


switch (pais) {
	case España:
		2x3Oferta(ticket);
		50%2Oferta(ticket);
		precioTotal(ticket);
		vaciarAlmacen(ticket);
		comunicarX25(ticket);
		backup(ticket);
	case Francia:
		precioTotal(ticket);
		vaciarAlmacen(ticket);
		comunicarX25(ticket);
	case Vietnam:
		2x3Oferta(ticket);
		precioTotal(ticket);
		vaciarAlmacen(ticket);
		comunicarX25(ticket);
		backup(ticket);
		impresoraHacienda(ticket);
	}